import{i as e}from"./index-9d3f82e1.js";import"./vue-echarts-85a407f1.js";import{b as o}from"./element-plus-3d06375f.js";import"./store-96e17a43.js";import{u as t}from"./index-c9cbb650.js";import{d as a,n as r,R as s,o as l,I as p,J as i,b as n,a as d,c as m,V as c,F as u,N as f,L as b,M as j}from"./@vue.runtime-core-4f5b9f62.js";import{h as v}from"./@vue.reactivity-bec702f3.js";import{L as h}from"./@vue.shared-5670d8a7.js";import{_ as y}from"./_plugin-vue_export-helper-c4cb8a60.js";import"./@vue.runtime-dom-c19fd55a.js";import"./axios-966d6f38.js";import"./nprogress-6d1393d1.js";import"./lodash-es-a085e596.js";import"./vue-router-18ffceba.js";import"./pinia-dbeeb1e2.js";import"./vue-demi-5b9a0fa5.js";import"./@vueuse.core-d0bf94bd.js";import"./@vueuse.shared-3f1de09b.js";import"./vue-2b98d5da.js";import"./mockjs-93ca2bc8.js";import"./mitt-dab1f1cb.js";import"./@element-plus.icons-vue-c0c6c02f.js";import"./@popperjs.core-040feab9.js";import"./@ctrl.tinycolor-84ad98d6.js";import"./dayjs-dd470533.js";import"./async-validator-efc2d198.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./@floating-ui.dom-9d85c32a.js";import"./@floating-ui.core-c56fb7e8.js";import"./resize-detector-94afada7.js";import"./echarts-33de40b3.js";import"./tslib-ed971494.js";import"./zrender-d158d5d4.js";const x={class:"editor"},k=a({name:"sys-param"}),_=y(a({...k,setup(a){const{service:y}=t(),k=v({index:null,list:[{label:"切换富文本編輯器",to:1,component:"cl-codemirror"},{label:"切换代码編輯器",to:0,component:"cl-editor-wang"}]}),_=e.exports.useCrud({service:y.base.sys.param},(e=>{e.refresh()})),w=e.exports.useTable({columns:[{type:"selection",width:60},{label:"名称",prop:"name",minWidth:150},{label:"keyName",prop:"keyName",minWidth:150},{label:"数据",prop:"data",minWidth:150,showOverflowTooltip:!0},{label:"备注",prop:"remark",minWidth:200,showOverflowTooltip:!0},{label:"操作",type:"op",buttons:["edit","delete"]}]}),g=e.exports.useUpsert({dialog:{width:"1000px"},items:[{prop:"name",label:"名称",span:12,required:!0,component:{name:"el-input"}},{prop:"keyName",label:"keyName",span:12,required:!0,component:{name:"el-input",props:{placeholder:"請輸入Key"}}},{prop:"data",label:"数据",component:{name:"slot-content"}},{prop:"remark",label:"备注",component:{name:"el-input",props:{placeholder:"請輸入备注",rows:3,type:"textarea"}}}],onOpened(e){k.index=null,r((()=>{var o;"add"==(null==(o=g.value)?void 0:o.mode)?k.index=1:k.index=/<*>/g.test(e.data)?1:0}))}});return(e,t)=>{const a=s("cl-refresh-btn"),r=s("cl-add-btn"),v=s("cl-multi-delete-btn"),y=s("cl-flex1"),N=s("cl-search-key"),V=s("el-row"),z=s("cl-table"),C=s("cl-pagination"),T=s("el-button"),U=s("cl-upsert"),W=s("cl-crud");return l(),p(W,{ref_key:"Crud",ref:_},{default:i((()=>[n(V,null,{default:i((()=>[n(a),n(r),n(v),n(y),n(N)])),_:1}),n(V,null,{default:i((()=>[n(z,{ref_key:"Table",ref:w},null,512)])),_:1}),n(V,null,{default:i((()=>[n(y),n(C)])),_:1}),n(U,{ref_key:"Upsert",ref:g},{"slot-content":i((({scope:e})=>[d("div",x,[(l(!0),m(u,null,c(k.list,((t,a)=>(l(),m(u,{key:a},[k.index==a?(l(),m(u,{key:0},[n(T,{class:"change-btn",onClick:e=>{return a=t.to,void o.confirm("切换編輯器会清空输入内容，是否继续？","提示",{type:"warning"}).then((()=>{var e;k.index=a,null==(e=g.value)||e.setForm("data","")})).catch((()=>null));var a}},{default:i((()=>[f(h(t.label),1)])),_:2},1032,["onClick"]),(l(),p(b(t.component),{modelValue:e.data,"onUpdate:modelValue":o=>e.data=o},null,8,["modelValue","onUpdate:modelValue"]))],64)):j("",!0)],64)))),128))])])),_:1},512)])),_:1},512)}}}),[["__scopeId","data-v-009a72c2"]]);export{_ as default};
