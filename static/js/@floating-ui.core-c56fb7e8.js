function t(t){return t.split("-")[0]}function e(t){return t.split("-")[1]}function n(e){return["top","bottom"].includes(t(e))?"x":"y"}function a(t){return"y"===t?"height":"width"}function i(i,r,o){let{reference:s,floating:l}=i;const c=s.x+s.width/2-l.width/2,f=s.y+s.height/2-l.height/2,m=n(r),y=a(m),u=s[y]/2-l[y]/2,x="x"===m;let g;switch(t(r)){case"top":g={x:c,y:s.y-l.height};break;case"bottom":g={x:c,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-l.width,y:f};break;default:g={x:s.x,y:s.y}}switch(e(r)){case"start":g[m]-=u*(o&&x?-1:1);break;case"end":g[m]+=u*(o&&x?-1:1)}return g}const r=async(t,e,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:o=[],platform:s}=n,l=await(null==s.isRTL?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:m}=i(c,a,l),y=a,u={},x=0;for(let g=0;g<o.length;g++){const{name:n,fn:h}=o[g],{x:p,y:d,data:w,reset:b}=await h({x:f,y:m,initialPlacement:a,placement:y,strategy:r,middlewareData:u,rects:c,platform:s,elements:{reference:t,floating:e}});f=null!=p?p:f,m=null!=d?d:m,u={...u,[n]:{...u[n],...w}},b&&x<=50&&(x++,"object"==typeof b&&(b.placement&&(y=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:r}):b.rects),({x:f,y:m}=i(c,y,l))),g=-1)}return{x:f,y:m,placement:y,strategy:r,middlewareData:u}};function o(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const s=Math.min,l=Math.max;const c=t=>({name:"arrow",options:t,async fn(i){const{element:r,padding:o=0}=null!=t?t:{},{x:c,y:f,placement:m,rects:y,platform:u}=i;if(null==r)return{};const x=function(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}(o),g={x:c,y:f},h=n(m),p=e(m),d=a(h),w=await u.getDimensions(r),b="y"===h?"top":"left",A="y"===h?"bottom":"right",R=y.reference[d]+y.reference[h]-g[h]-y.floating[d],k=g[h]-y.reference[h],v=await(null==u.getOffsetParent?void 0:u.getOffsetParent(r));let L=v?"y"===h?v.clientHeight||0:v.clientWidth||0:0;0===L&&(L=y.floating[d]);const T=R/2-k/2,D=x[b],O=L-w[d]-x[A],P=L/2-w[d]/2+T,E=l(D,s(P,O));const M=("start"===p?x[b]:x[A])>0&&P!==E&&y.reference[d]<=y.floating[d];return{[h]:g[h]-(M?P<D?D-P:O-P:0),data:{[h]:E,centerOffset:P-E}}}});const f=function(a){return void 0===a&&(a=0),{name:"offset",options:a,async fn(i){const{x:r,y:o}=i,s=await async function(a,i){const{placement:r,platform:o,elements:s}=a,l=await(null==o.isRTL?void 0:o.isRTL(s.floating)),c=t(r),f=e(r),m="x"===n(r),y=["left","top"].includes(c)?-1:1,u=l&&m?-1:1,x="function"==typeof i?i(a):i;let{mainAxis:g,crossAxis:h,alignmentAxis:p}="number"==typeof x?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...x};return f&&"number"==typeof p&&(h="end"===f?-1*p:p),m?{x:h*u,y:g*y}:{x:g*y,y:h*u}}(i,a);return{x:r+s.x,y:o+s.y,data:s}}}};export{c as a,r as c,f as o,o as r};
