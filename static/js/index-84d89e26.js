import{u as e,g as a}from"./index-9d3f82e1.js";import"./vue-echarts-85a407f1.js";import"./element-plus-3d06375f.js";import"./store-96e17a43.js";import{u as s}from"./index-c9cbb650.js";import{b as t,r as n}from"./lodash-es-a085e596.js";import{d as o,q as l,R as r,o as i,c as u,I as c,J as p,F as d,V as m,N as f,e as v,b,M as _,a as j,al as h,ak as g,x as y,h as k,K as w,L as x,$ as F}from"./@vue.runtime-core-4f5b9f62.js";import{u as M,e as z}from"./@vue.reactivity-bec702f3.js";import{L as C,o as I}from"./@vue.shared-5670d8a7.js";import{_ as S}from"./_plugin-vue_export-helper-c4cb8a60.js";import{_ as V}from"./logo-0740f7d8.js";import{v as B,T as E}from"./@vue.runtime-dom-c19fd55a.js";import{d as L}from"./vue-router-18ffceba.js";import"./axios-966d6f38.js";import"./nprogress-6d1393d1.js";import"./pinia-dbeeb1e2.js";import"./vue-demi-5b9a0fa5.js";import"./@vueuse.core-d0bf94bd.js";import"./@vueuse.shared-3f1de09b.js";import"./vue-2b98d5da.js";import"./mockjs-93ca2bc8.js";import"./mitt-dab1f1cb.js";import"./@element-plus.icons-vue-c0c6c02f.js";import"./@popperjs.core-040feab9.js";import"./@ctrl.tinycolor-84ad98d6.js";import"./dayjs-dd470533.js";import"./async-validator-efc2d198.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./@floating-ui.dom-9d85c32a.js";import"./@floating-ui.core-c56fb7e8.js";import"./resize-detector-94afada7.js";import"./echarts-33de40b3.js";import"./tslib-ed971494.js";import"./zrender-d158d5d4.js";const N={class:"route-nav"},O={key:0,class:"title"},$=o({name:"route-nav"}),q=S(o({...$,setup(a){const{route:o}=s(),{app:v,menu:b}=e(),_=l((()=>t(b.group.map((function e(a){if("/"===o.path)return!1;if(a.path==o.path)return a;if(a.children){const s=a.children.map(e).find(Boolean);return!!s&&[a,s]}return!1})).filter(Boolean)))),j=l((()=>{var e;return null==(e=n(_.value))?void 0:e.name}));return(e,a)=>{const s=r("el-breadcrumb-item"),t=r("el-breadcrumb");return i(),u("div",N,[M(v).browser.isMini?(i(),u("p",O,C(M(j)),1)):(i(),c(t,{key:1},{default:p((()=>[(i(!0),u(d,null,m(M(_),((e,a)=>(i(),c(s,{key:a},{default:p((()=>{var a;return[f(C((null==(a=e.meta)?void 0:a.label)||e.name),1)]})),_:2},1024)))),128))])),_:1}))])}}}),[["__scopeId","data-v-18d8a683"]]),A={class:"a-menu"},G={class:"a-menu__name"},J=o({name:"a-menu"}),K=S(o({...J,setup(a){const{router:t,route:n}=s(),{menu:o}=e(),l=z("");function f(e){o.setMenu(e);const a=o.getPath(o.group[e].children);t.push(a)}return v((function(){function e(a,s){switch(a.type){case 0:a.children.forEach((a=>{e(a,s)}));break;case 1:n.path.includes(a.path)&&(l.value=String(s),o.setMenu(s))}}o.group.forEach(((a,s)=>{e(a,s)}))})),(e,a)=>{const s=r("cl-svg"),t=r("el-menu-item"),n=r("el-menu");return i(),u("div",A,[b(n,{"default-active":l.value,mode:"horizontal","background-color":"transparent",onSelect:f},{default:p((()=>[(i(!0),u(d,null,m(M(o).group,((e,a)=>(i(),c(t,{key:a,index:`${a}`},{default:p((()=>[e.icon?(i(),c(s,{key:0,name:e.icon,size:18},null,8,["name"])):_("",!0),j("span",G,C(e.name),1)])),_:2},1032,["index"])))),128))])),_:1},8,["default-active"])])}}}),[["__scopeId","data-v-249ef8fc"]]),P=e=>(h("data-v-f25dc7e2"),e=e(),g(),e),R={class:"app-topbar"},T=[P((()=>j("i",{class:"cl-iconfont cl-icon-fold"},null,-1)))],D=P((()=>j("div",{class:"flex1"},null,-1))),H={class:"app-topbar__tools"},Q={key:0,class:"app-topbar__user"},U={class:"el-dropdown-link"},W={class:"name"},X=["src"],Y=P((()=>j("i",{class:"cl-iconfont cl-icon-user"},null,-1))),Z=P((()=>j("span",null,"個人中心",-1))),ee=P((()=>j("i",{class:"cl-iconfont cl-icon-exit"},null,-1))),ae=P((()=>j("span",null,"退出",-1))),se=o({name:"topbar"}),te=S(o({...se,setup(a){const{router:t,service:n}=s(),{user:o,app:l}=e();async function m(e){switch(e){case"my":t.push("/my/info");break;case"exit":await n.base.comm.logout(),o.logout()}}return(e,a)=>{const s=r("cl-chat"),t=r("cl-theme"),n=r("el-dropdown-item"),f=r("el-dropdown-menu"),v=r("el-dropdown");return i(),u(d,null,[M(l).info.menu.isGroup?(i(),c(K,{key:0})):_("",!0),j("div",R,[j("div",{class:I(["app-topbar__collapse",{unfold:!M(l).isFold}]),onClick:a[0]||(a[0]=e=>M(l).fold())},T,2),b(q),D,j("ul",H,[j("li",null,[b(s)]),j("li",null,[b(t)])]),M(o).info?(i(),u("div",Q,[b(v,{trigger:"click","hide-on-click":"",onCommand:m},{dropdown:p((()=>[b(f,null,{default:p((()=>[b(n,{command:"my"},{default:p((()=>[Y,Z])),_:1}),b(n,{command:"exit"},{default:p((()=>[ee,ae])),_:1})])),_:1})])),default:p((()=>[j("span",U,[j("span",W,C(M(o).info.nickName),1),j("img",{class:"avatar",src:M(o).info.avatar},null,8,X)])])),_:1})])):_("",!0)])],64)}}}),[["__scopeId","data-v-f25dc7e2"]]);const ne={name:"b-menu",setup(){const{router:e,route:t}=s(),{menu:n,app:o}=a();return{route:t,toView:function(a){a!=t.path&&e.push(a),o.browser.isMini&&o.fold(!0)},menu:n}},render(e){const{app:s}=a();const t=function e(a,t){return a.filter((e=>e.isShow)).map((a=>{let n=null;return n=0==a.type?k(b(r("el-sub-menu"),null,null),{index:String(a.id),key:a.id,popperClass:"app-slider__menu"},{title:()=>b("div",{class:"wrap"},[b(r("cl-svg"),{name:a.icon},null),w(b("span",null,[a.name]),[[B,!s.isFold||1!=t]])]),default:()=>e(a.children||[],t+1)}):k(b(r("el-menu-item"),null,null),{index:a.path,key:a.id},{default:()=>b("div",{class:"wrap"},[b(r("cl-svg"),{name:a.icon},null),w(b("span",null,[a.name]),[[B,!s.isFold||1!=t]])])}),n}))}(e.menu.list,1);return b("div",{class:"app-slider__menu"},[b(r("el-menu"),{"default-active":e.route.path,"background-color":"transparent","collapse-transition":!0,collapse:!s.browser.isMini&&s.isFold,onSelect:e.toView},(n=t,"function"==typeof n||"[object Object]"===Object.prototype.toString.call(n)&&!y(n)?t:{default:()=>[t]}))]);var n}},oe={class:"app-slider"},le=j("img",{src:V},null,-1),re={key:0},ie={class:"app-slider__container"},ue=o({name:"undefined"}),ce=o({...ue,setup(a){const{app:s}=e(),t=L();function n(){t.push("/")}return(e,a)=>(i(),u("div",oe,[j("div",{class:"app-slider__logo",onClick:n},[le,!M(s).isFold||M(s).browser.isMini?(i(),u("span",re,C(M(s).info.name),1)):_("",!0)]),j("div",ie,[b(M(ne))])]))}}),pe={class:"app-views"},de=o({name:"undefined"}),me=S(o({...de,setup(a){const{process:s,app:t}=e(),n=l((()=>s.list.filter((e=>{var a;return null==(a=e.meta)?void 0:a.keepAlive})).map((e=>e.path.substring(1,e.path.length).replace(/\//g,"-")))));return(e,a)=>{const s=r("el-scrollbar"),o=r("router-view");return i(),u("div",pe,[b(o,null,{default:p((({Component:e})=>[b(s,null,{default:p((()=>[b(E,{name:M(t).info.router.transition},{default:p((()=>[(i(),c(F,{include:M(n)},[(i(),c(x(e)))],1032,["include"]))])),_:2},1032,["name"])])),_:2},1024)])),_:1})])}}}),[["__scopeId","data-v-36659118"]]),fe={class:"app-layout__left"},ve={class:"app-layout__right"},be=o({name:"undefined"}),_e=S(o({...be,setup(a){const{app:s}=e();return(e,a)=>(i(),u("div",{class:I(["app-layout",{collapse:M(s).isFold}])},[j("div",{class:"app-layout__mask",onClick:a[0]||(a[0]=e=>M(s).fold(!0))}),j("div",fe,[b(ce)]),j("div",ve,[b(te),b(me)])],2))}}),[["__scopeId","data-v-2e483bec"]]);export{_e as default};
